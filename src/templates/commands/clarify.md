---
description: 명세의 모호함 해소
---

# /clarify - 모호함 해소

명세의 모호한 부분을 질문하고 명확화합니다.

## 사용법

```
/clarify
/clarify {특정 주제}
```

예시:
```
/clarify                    # 자동으로 모호함 탐지
/clarify 에러 처리          # 특정 주제에 대해 질문
/clarify 보안 요구사항      # 특정 주제에 대해 질문
```

## 프로세스

### 1. 현재 명세 확인

- CLAUDE.md의 "현재 작업"에서 활성 명세 확인
- `specs/{current}/spec.md` 읽기
- "열린 질문" 섹션 확인

### 2. 모호함 탐지 (자동)

8가지 카테고리에서 모호함을 탐지:

| 카테고리 | 확인 사항 |
|----------|-----------|
| 범위 경계 | "~등", "필요시" 같은 모호한 표현 |
| 에러 처리 | 실패 시나리오가 정의되었는가? |
| 성능 | 응답 시간, 동시 사용자 수 등 |
| 보안 | 인증, 권한, 데이터 보호 |
| 데이터 형식 | 입출력 형식이 명확한가? |
| 엣지 케이스 | 빈 값, 최대값, 특수문자 등 |
| 의존성 | 외부 시스템, API 등 |
| 우선순위 | User Story 간 우선순위 |

### 3. 질문 생성 (최대 5개)

**원칙: 한 번에 5개 이상 질문하지 않음**

우선순위 순으로 질문:
1. 범위에 영향을 주는 모호함
2. 구현에 영향을 주는 모호함
3. 테스트에 영향을 주는 모호함

### 4. 답변 수집

사용자의 답변을 수집합니다.

### 5. 파일 업데이트

**spec.md**:
- "열린 질문"에 답변 기록
- `- [ ] Q1: 질문` → `- [x] Q1: 질문 → 답변`

**clarifications.md**:
- "결정 사항" 테이블에 추가

```markdown
## 결정 사항
| 날짜 | 결정 | 이유 | 대안 |
|------|------|------|------|
| 2026-01-19 | httpOnly 쿠키 | XSS 방지 | localStorage |
```

## 질문 예시

### 범위 경계
- "소셜 로그인은 어떤 제공자를 지원하나요? (Google, GitHub, Apple 등)"
- "'필요시 알림'에서 '필요시'의 기준은 무엇인가요?"

### 에러 처리
- "로그인 5회 실패 시 어떻게 처리하나요? (계정 잠금? 대기 시간?)"
- "네트워크 오류 시 재시도 정책은 어떻게 되나요?"

### 보안
- "비밀번호 정책은 어떻게 되나요? (길이, 복잡도)"
- "세션 만료 시간은 얼마인가요?"

### 데이터 형식
- "이메일 주소의 최대 길이는 얼마인가요?"
- "날짜 형식은 무엇인가요? (ISO 8601, 로컬 형식)"

## 완료 조건

- [ ] 모호함 탐지 완료
- [ ] 질문 5개 이하로 제한
- [ ] 사용자 답변 수집
- [ ] spec.md "열린 질문" 업데이트
- [ ] clarifications.md "결정 사항" 추가
- [ ] 남은 모호함이 있으면 다시 `/clarify` 안내
