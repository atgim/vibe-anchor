---
description: 명세의 모호함 해소
---

# /clarify - 모호함 해소

명세의 모호한 부분을 질문하고 명확화합니다.

## 사용법

```
/clarify
/clarify {특정 주제}
```

예시:
```
/clarify                    # 자동으로 모호함 탐지
/clarify 에러 처리          # 특정 주제에 대해 질문
/clarify 보안 요구사항      # 특정 주제에 대해 질문
```

## 프로세스

### 1. 현재 명세 확인

- CLAUDE.md의 "현재 작업"에서 활성 명세 확인
- `specs/{current}/spec.md` 읽기
- "열린 질문" 섹션 확인

### 2. 모호함 탐지 (자동)

8가지 카테고리에서 모호함을 탐지:

| 카테고리 | 확인 사항 | 우선순위 |
|----------|-----------|----------|
| 범위 경계 | "~등", "필요시" 같은 모호한 표현 | 높음 |
| 보안/개인정보 | 인증, 권한, 데이터 보호 | 높음 |
| 에러 처리 | 실패 시나리오가 정의되었는가? | 중간 |
| 데이터 형식 | 입출력 형식이 명확한가? | 중간 |
| 엣지 케이스 | 빈 값, 최대값, 특수문자 등 | 중간 |
| 성능 | 응답 시간, 동시 사용자 수 등 | 낮음 |
| 의존성 | 외부 시스템, API 등 | 낮음 |
| 우선순위 | User Story 간 우선순위 | 낮음 |

### 3. 질문 방식: 1개씩 순차적으로

**원칙: 한 번에 1개 질문, 답변 후 다음 질문**

이유:
- 사용자 부담 감소
- 각 답변에 집중
- 이전 답변이 다음 질문에 영향 가능

### 4. 추천 옵션 제공

**모든 질문에 옵션과 비교를 포함:**

```markdown
질문: "세션 유지 방식을 어떻게 할까요?"

| 옵션 | 장점 | 단점 | 추천 |
|------|------|------|------|
| A. JWT 토큰 | 서버 부담 적음, 확장성 | 토큰 취소 어려움 | |
| B. 세션 쿠키 | 보안 강함, 취소 쉬움 | 서버 저장 필요 | (추천) |
| C. 둘 다 | 유연함 | 복잡도 증가 | |

추천 이유: 개인 프로젝트에서 보안이 더 중요하고, 서버 부담이 크지 않음
```

**비개발자를 위한 추천 기준:**
- 보안 > 단순함 > 확장성
- "잘 모르겠으면 추천 옵션 선택" 안내

### 5. 답변 수집 및 기록

사용자 답변 후:

**spec.md**:
- "열린 질문"에 답변 기록
- `- [ ] Q1: 질문` → `- [x] Q1: 질문 → 답변`

**clarifications.md**:
- "결정 사항" 테이블에 추가 (선택하지 않은 대안 포함)

```markdown
## 결정 사항
| 날짜 | 결정 | 이유 | 대안 |
|------|------|------|------|
| 2026-01-19 | 세션 쿠키 | 보안 우선 | JWT, 혼합 방식 |
```

### 6. Coverage Summary 표시

**모든 질문 완료 후 커버리지 요약:**

```markdown
## Clarification Coverage

| 카테고리 | 상태 | 비고 |
|----------|------|------|
| 범위 경계 | [x] 완료 | Q1에서 해결 |
| 보안/개인정보 | [x] 완료 | Q2에서 해결 |
| 에러 처리 | [x] 완료 | Q3에서 해결 |
| 데이터 형식 | [-] 해당없음 | |
| 엣지 케이스 | [ ] 가정 적용 | 빈 값은 에러 처리 |
| 성능 | [-] 해당없음 | MVP에서 고려 안함 |
| 의존성 | [-] 해당없음 | |
| 우선순위 | [x] 완료 | spec에 명시됨 |

Coverage: 4/5 해당 항목 완료 (80%)
```

## 질문 예시 (옵션 포함)

### 범위 경계
```
"소셜 로그인 제공자를 어디까지 지원할까요?"

| 옵션 | 장점 | 단점 | 추천 |
|------|------|------|------|
| A. Google만 | 구현 간단, 대부분 사용 | 선택지 제한 | (추천) |
| B. Google + GitHub | 개발자 대상 시 유용 | 구현 2배 | |
| C. Google + Apple | iOS 앱 시 필수 | 애플 심사 필요 | |
```

### 에러 처리
```
"로그인 실패 시 어떻게 처리할까요?"

| 옵션 | 장점 | 단점 | 추천 |
|------|------|------|------|
| A. 5회 후 잠금 | 보안 강함 | 사용자 불편 | |
| B. 5회 후 대기 | 균형적 | 구현 복잡 | (추천) |
| C. 무제한 | 사용자 편함 | 보안 취약 | |

추천 이유: 보안과 사용성의 균형
```

### 보안
```
"비밀번호 정책은 어떻게 할까요?"

| 옵션 | 장점 | 단점 | 추천 |
|------|------|------|------|
| A. 8자 이상 | 사용자 편함 | 보안 약함 | |
| B. 8자+특수문자 | 적절한 보안 | 약간 불편 | (추천) |
| C. 12자+복잡도 | 높은 보안 | 사용자 불편 | |
```

## 완료 조건

- [ ] 모호함 탐지 완료 (8개 카테고리)
- [ ] 1개씩 순차적 질문
- [ ] 모든 질문에 추천 옵션 포함
- [ ] 사용자 답변 수집
- [ ] spec.md "열린 질문" 업데이트
- [ ] clarifications.md "결정 사항" 추가 (대안 포함)
- [ ] Coverage Summary 표시
- [ ] 남은 모호함이 있으면 다시 `/clarify` 안내
