---
description: 수정 금지 사항 등록
---

# /constraint - 제약 등록

수정 금지할 파일이나 코드를 등록합니다.

## 수행 작업

1. `.vibe-anchor/constraints/global.md` 업데이트
2. `.claude/CLAUDE.md`의 "수정 금지 사항" 섹션 업데이트

## 질문 순서

사용자에게 다음을 질문하세요:

1. **대상**: "수정 금지할 파일 또는 코드 경로는 무엇인가요?"

2. **이유**: "왜 수정하면 안 되나요? (보안, 호환성, 외부 의존성 등)"

3. **심각도**: "Critical(절대 금지) 또는 Stable(변경 시 주의) 중 어느 것인가요?"

## 심각도 기준

### Critical (절대 금지)
- 보안 감사 완료 코드
- 외부 시스템 연동 부분
- 데이터 마이그레이션 완료 코드
- 법적/규제 요구사항 관련

### Stable (변경 시 주의)
- API 하위 호환성 유지 필요
- 다른 모듈에서 의존하는 코드
- 테스트가 광범위하게 의존하는 코드

## constraints/global.md 업데이트

해당 심각도 테이블에 행 추가:

```markdown
## Critical (절대 금지)

| 파일/코드 | 이유 | 등록일 |
|-----------|------|--------|
| src/auth/token.ts | 보안 감사 완료 | 2026-01-18 |
```

## CLAUDE.md 업데이트

**중요**: "수정 금지 사항" 섹션을 업데이트합니다.

Critical 항목은 이모지로 강조:

```markdown
## ⛔ 수정 금지 사항

> 아래 항목은 **절대 변경하지 마세요**:

- ⛔ `src/auth/token.ts` - 보안 감사 완료 (Critical)
- ⚠️ `src/api/v1/*` - API 하위 호환성 (Stable)
```

## 이유 로그 추가

`.vibe-anchor/constraints/global.md`의 "이유 로그" 섹션에 상세 기록:

```markdown
## 이유 로그

### src/auth/token.ts (2026-01-18)
- 2026-01-15 외부 보안 감사 완료
- JWT 토큰 생성/검증 로직
- 변경 시 전체 인증 시스템 영향
```

## 완료 조건

- [ ] constraints/global.md 업데이트
- [ ] CLAUDE.md 업데이트
- [ ] 이유 로그 작성
- [ ] 사용자에게 등록 완료 알림
